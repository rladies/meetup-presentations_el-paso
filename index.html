<!DOCTYPE html>
<html>
<head>
  <title>Getting Started</title>
  <meta charset="utf-8">
  <meta name="description" content="Getting Started">
  <meta name="author" content="Elise Bell">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  
  <hgroup class="auto-fadein">
    <h1>Getting Started</h1>
    <h2>R-Ladies El Paso</h2>
    <p>Elise Bell<br/></p>
  </hgroup>
  
  <article></article>  
  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  
  <hgroup>
    <h2>Welcome!</h2>
  </hgroup>
  
  <article data-timings="">
    <p>Today we will</p>

<ul>
<li>learn about R and RStudio [<sup>1]</sup></li>
<li>load some data</li>
<li>examine and manipulate the data</li>
</ul>

<p>[<sup>1]:</sup> h/t to Mine Cetinkaya-Rundel for slideshow inspiration (<a href="http://rpubs.com/minebocek/rladies-dplyr-tidyr">http://rpubs.com/minebocek/rladies-dplyr-tidyr</a>)</p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>R and RStudio</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li><strong>R</strong> is the programming language</li>
<li><strong>RStudio</strong> is an environment that makes using R easier</li>
<li>Free and open-source!</li>
</ul>

<h2>Getting started</h2>

<ul>
<li><p>Install R: <a href="https://cran.r-project.org/">https://cran.r-project.org/</a></p></li>
<li><p>Install RStudio: <a href="https://www.rstudio.com/products/RStudio/#Desktop">https://www.rstudio.com/products/RStudio/#Desktop</a></p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Anatomy of RStudio</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li>Left: Console

<ul>
<li>Text on top at launch: version of R that youâ€™re running</li>
<li>Below that is the prompt</li>
</ul></li>
<li>Upper right: Workspace and command history</li>
<li>Lower right: Plots, access to files, help, packages, data viewer</li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>What version am I using?</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li><p>The version of R is in the text that pops up in the Console when you start RStudio</p></li>
<li><p>To find out the version of RStudio go to Help &gt; About RStudio</p></li>
<li><p>It&#39;s good practice to keep both R and RStudio up to date</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>R packages</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li><p>Packages are the fundamental units of reproducible R code. They include reusable R
functions, the documentation that describes how to use them, and (often) sample data.
(From: <a href="http://r-pkgs.had.co.nz">http://r-pkgs.had.co.nz</a>)</p></li>
<li><p>Install these packages by running the following in the Console:</p></li>
</ul>

<pre><code class="r">install.packages(&quot;readr&quot;)
install.packages(&quot;tidyr&quot;)
install.packages(&quot;dplyr&quot;)
install.packages(&quot;ggplot2&quot;)
</code></pre>

<ul>
<li>Then, load the packages by running the following:</li>
</ul>

<pre><code class="r">library(readr)
library(tidyr)
library(dplyr)
#library(ggplot2)
</code></pre>

<p>--- .class #id </p>

<h1>Keeping track of your code</h1>

<h2>Two options: R Script or R Markdown</h2>

<ul>
<li><p>Do not just type code in the Console, it&#39;s error prone (especially typo prone!) and hard to keep track of</p></li>
<li><p>Use one of the two following options:</p>

<ul>
<li>R Script: File -&gt; New File -&gt; R Script</li>
<li>R Markdown: File -&gt; New File -&gt; R Markdown</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>R Script</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li><p>Type your code in the R Script</p></li>
<li><p>Use cursor + Run or highlight + Run</p></li>
<li><p>Shortcut for Run button: Command + Enter</p></li>
<li><p>Use <code>#</code> for comments</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>R Markdown</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li><p>R Markdown is an authoring format that enables easy creation of dynamic 
documents, presentations, and reports from R. </p></li>
<li><p>R Markdown documents are fully <strong>reproducible</strong> (they can be 
automatically regenerated whenever underlying R code or data changes).</p></li>
<li><p>Code goes in code &#39;chunks&#39;</p></li>
<li><p>Comments can go in the chunks with <code>#</code> or just as plain text outside the chunks</p></li>
</ul>

<p>Source: <a href="http://rmarkdown.rstudio.com/">http://rmarkdown.rstudio.com/</a></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Where are you?</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r"># Find working directory
getwd()
</code></pre>

<pre><code>## [1] &quot;/Users/elisebell1/Documents/GitHub/rladies-ep-intro&quot;
</code></pre>

<pre><code class="r"># Change working directory
setwd(&quot;~/Documents/GitHub/rladies-ep-intro/&quot;)
# Check
#getwd()
# What is in your working directory?
list.files()
</code></pre>

<pre><code>## [1] &quot;assets&quot;                 &quot;index.html&quot;            
## [3] &quot;index.md&quot;               &quot;index.Rmd&quot;             
## [5] &quot;libraries&quot;              &quot;marvel-wikia-data.csv&quot; 
## [7] &quot;marvel-wikia-data1.csv&quot; &quot;movies.csv&quot;            
## [9] &quot;StarWars.csv&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Loading data</h2>
  </hgroup>
  
  <article data-timings="">
    <p>Comic book characters (FiveThirtyEight <a href="https://fivethirtyeight.com/features/women-in-comic-books/">https://fivethirtyeight.com/features/women-in-comic-books/</a>)</p>

<pre><code class="r">data &lt;- read.csv(&quot;marvel-wikia-data1.csv&quot;)
# You can download the data from https://github.com/fivethirtyeight/
# data/blob/master/comic-characters/marvel-wikia-data.csv
names(data)
</code></pre>

<pre><code>##  [1] &quot;name&quot;             &quot;urlslug&quot;          &quot;ID&quot;              
##  [4] &quot;ALIGN&quot;            &quot;EYE&quot;              &quot;HAIR&quot;            
##  [7] &quot;SEX&quot;              &quot;GSM&quot;              &quot;ALIVE&quot;           
## [10] &quot;APPEARANCES&quot;      &quot;FIRST.APPEARANCE&quot; &quot;Year&quot;
</code></pre>

<h1>Other ways to load data</h1>

<ul>
<li><p><code>read.csv()</code> converts character vectors into factors, which you may or may not want</p></li>
<li><p>You can also use File --&gt; Import Dataset</p></li>
</ul>

<!-- - (What's a character vector? What's a factor?) -->

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Viewing your data</h2>
  </hgroup>
  
  <article data-timings="">
    <p>Click the name of the data frame in the Environment (top right)</p>

<p>Use the <code>str()</code> function to compactly display the internal <strong>str</strong>ucture of an R object</p>

<pre><code class="r">str(data)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    16376 obs. of  12 variables:
##  $ name            : Factor w/ 16376 levels &quot;&#39;Spinner (Earth-616)&quot;,..: 13958 2331 16000 6775 14711 1579 12352 6555 13214 7687 ...
##  $ urlslug         : Factor w/ 16376 levels &quot;\\/%22Spider-Girl%22_(Mutant\\/Spider_Clone)_(Earth-616)&quot;,..: 13956 2331 16000 6775 14709 1579 12351 6555 13213 7687 ...
##  $ ID              : Factor w/ 5 levels &quot;&quot;,&quot;Known to Authorities Identity&quot;,..: 5 4 4 4 3 4 4 4 4 4 ...
##  $ ALIGN           : Factor w/ 4 levels &quot;&quot;,&quot;Bad Characters&quot;,..: 3 3 4 3 3 3 3 3 4 3 ...
##  $ EYE             : Factor w/ 25 levels &quot;&quot;,&quot;Amber Eyes&quot;,..: 11 5 5 5 5 5 6 6 6 5 ...
##  $ HAIR            : Factor w/ 26 levels &quot;&quot;,&quot;Auburn Hair&quot;,..: 8 25 4 4 5 15 8 8 8 5 ...
##  $ SEX             : Factor w/ 5 levels &quot;&quot;,&quot;Agender Characters&quot;,..: 5 5 5 5 5 5 5 5 5 5 ...
##  $ GSM             : Factor w/ 7 levels &quot;&quot;,&quot;Bisexual Characters&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ ALIVE           : Factor w/ 3 levels &quot;&quot;,&quot;Deceased Characters&quot;,..: 3 3 3 3 3 3 3 3 3 3 ...
##  $ APPEARANCES     : int  4043 3360 3061 2961 2258 2255 2072 2017 1955 1934 ...
##  $ FIRST.APPEARANCE: Factor w/ 833 levels &quot;&quot;,&quot;1-Apr&quot;,&quot;1-Aug&quot;,..: 226 554 752 572 675 683 683 627 797 683 ...
##  $ Year            : int  1962 1941 1974 1963 1950 1961 1961 1962 1963 1961 ...
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Viewing your data</h2>
  </hgroup>
  
  <article data-timings="">
    <p>Use the <code>glimpse()</code> function to see all variables and the data in them</p>

<pre><code class="r">glimpse(data)
</code></pre>

<pre><code>## Observations: 16,376
## Variables: 12
## $ name             &lt;fct&gt; Spider-Man (Peter Parker), Captain America (Steâ€¦
## $ urlslug          &lt;fct&gt; \/Spider-Man_(Peter_Parker), \/Captain_America_â€¦
## $ ID               &lt;fct&gt; Secret Identity, Public Identity, Public Identiâ€¦
## $ ALIGN            &lt;fct&gt; Good Characters, Good Characters, Neutral Charaâ€¦
## $ EYE              &lt;fct&gt; Hazel Eyes, Blue Eyes, Blue Eyes, Blue Eyes, Blâ€¦
## $ HAIR             &lt;fct&gt; Brown Hair, White Hair, Black Hair, Black Hair,â€¦
## $ SEX              &lt;fct&gt; Male Characters, Male Characters, Male Characteâ€¦
## $ GSM              &lt;fct&gt; , , , , , , , , , , , , , , , , , , , , , , , , 
## $ ALIVE            &lt;fct&gt; Living Characters, Living Characters, Living Châ€¦
## $ APPEARANCES      &lt;int&gt; 4043, 3360, 3061, 2961, 2258, 2255, 2072, 2017,â€¦
## $ FIRST.APPEARANCE &lt;fct&gt; Aug-62, Mar-41, Oct-74, Mar-63, Nov-50, Nov-61,â€¦
## $ Year             &lt;int&gt; 1962, 1941, 1974, 1963, 1950, 1961, 1961, 1962,â€¦
</code></pre>

<p>You can also use <code>View()</code> to open the data frame in the viewer</p>

<pre><code class="r">View(data)
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Tidy data</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li><p>In <strong>tidy data</strong></p>

<ol>
<li>Each variable forms a column</li>
<li>Each observation forms a row</li>
<li>Each type of observational unit forms a table</li>
</ol></li>
<li><p><strong>Messy data</strong> is any other other arrangement of the data</p>

<ul>
<li><code>tidyr</code> package is helpful for converting messy data to tidy data</li>
</ul></li>
<li><p>We&#39;ll start with some tidy data</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Data manipulation</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li><p>Using base R functions</p></li>
<li><p>Using the <code>tidyr</code> and <code>dplyr</code> packages &lt; our focus today</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Verbs of <code>dplyr</code></h2>
  </hgroup>
  
  <article data-timings="">
    <p>The <code>dplyr</code> package is based on the concepts of functions as verbs that 
manipulate data frames:</p>

<ul>
<li><code>filter()</code>: pick rows matching criteria</li>
<li><code>select()</code>: pick columns by name </li>
<li><code>rename()</code>: rename specific columns</li>
<li><code>arrange()</code>: reorder rows </li>
<li><code>mutate()</code>: add new variables</li>
<li><code>transmute()</code>: create new data frame with variables</li>
<li><code>sample_n()</code> / <code>sample_frac()</code>: randomly sample rows</li>
<li><code>summarize()</code>: reduce variables to values</li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2><code>dplyr</code> rules</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li>First argument is a data frame</li>
<li>Subsequent arguments say what to do with data frame</li>
<li>Always returns a data frame </li>
<li>Avoid modify in place</li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Filter rows with <code>filter()</code></h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li>Select a subset of rows in a data frame.</li>
<li>Easily filter for many conditions at once.</li>
</ul>

<p>Filter for &#39;good&#39; characters</p>

<pre><code class="r">data %&gt;%
  filter(ALIGN == &quot;Good Characters&quot;) %&gt;%
  head() # just show the first 6 rows
</code></pre>

<pre><code>##                                  name
## 1           Spider-Man (Peter Parker)
## 2     Captain America (Steven Rogers)
## 3 Iron Man (Anthony \\&quot;Tony\\&quot; Stark)
## 4                 Thor (Thor Odinson)
## 5          Benjamin Grimm (Earth-616)
## 6           Reed Richards (Earth-616)
##                                  urlslug               ID           ALIGN
## 1           \\/Spider-Man_(Peter_Parker)  Secret Identity Good Characters
## 2     \\/Captain_America_(Steven_Rogers)  Public Identity Good Characters
## 3 \\/Iron_Man_(Anthony_%22Tony%22_Stark)  Public Identity Good Characters
## 4                 \\/Thor_(Thor_Odinson) No Dual Identity Good Characters
## 5          \\/Benjamin_Grimm_(Earth-616)  Public Identity Good Characters
## 6           \\/Reed_Richards_(Earth-616)  Public Identity Good Characters
##          EYE       HAIR             SEX GSM             ALIVE APPEARANCES
## 1 Hazel Eyes Brown Hair Male Characters     Living Characters        4043
## 2  Blue Eyes White Hair Male Characters     Living Characters        3360
## 3  Blue Eyes Black Hair Male Characters     Living Characters        2961
## 4  Blue Eyes Blond Hair Male Characters     Living Characters        2258
## 5  Blue Eyes    No Hair Male Characters     Living Characters        2255
## 6 Brown Eyes Brown Hair Male Characters     Living Characters        2072
##   FIRST.APPEARANCE Year
## 1           Aug-62 1962
## 2           Mar-41 1941
## 3           Mar-63 1963
## 4           Nov-50 1950
## 5           Nov-61 1961
## 6           Nov-61 1961
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Filter rows with <code>filter()</code></h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li>Select a subset of rows in a data frame.</li>
<li>Easily filter for many conditions at once.</li>
</ul>

<p>Filter for &#39;good&#39; characters introduced after 2000</p>

<pre><code class="r">data %&gt;%
  filter(ALIGN == &quot;Good Characters&quot;, Year &gt; 2000) %&gt;%
  head() # just show the first 6 rows
</code></pre>

<pre><code>##                           name                         urlslug
## 1       Maria Hill (Earth-616)       \\/Maria_Hill_(Earth-616)
## 2     Laura Kinney (Earth-616)     \\/Laura_Kinney_(Earth-616)
## 3   Santo Vaccarro (Earth-616)   \\/Santo_Vaccarro_(Earth-616)
## 4      Megan Gwynn (Earth-616)      \\/Megan_Gwynn_(Earth-616)
## 5     Hope Summers (Earth-616)     \\/Hope_Summers_(Earth-616)
## 6 Victor Borkowski (Earth-616) \\/Victor_Borkowski_(Earth-616)
##                 ID           ALIGN            EYE       HAIR
## 1 No Dual Identity Good Characters     Brown Eyes Black Hair
## 2  Secret Identity Good Characters     Green Eyes Black Hair
## 3  Secret Identity Good Characters     White Eyes    No Hair
## 4  Public Identity Good Characters Black Eyeballs  Pink Hair
## 5  Secret Identity Good Characters     Green Eyes   Red Hair
## 6  Secret Identity Good Characters     Brown Eyes Black Hair
##                 SEX                   GSM             ALIVE APPEARANCES
## 1 Female Characters                       Living Characters         325
## 2 Female Characters                       Living Characters         265
## 3   Male Characters                       Living Characters         238
## 4 Female Characters                       Living Characters         229
## 5 Female Characters                       Living Characters         200
## 6   Male Characters Homosexual Characters Living Characters         184
##   FIRST.APPEARANCE Year
## 1            5-Apr 2005
## 2            4-Feb 2004
## 3            3-Sep 2003
## 4            4-Nov 2004
## 5            8-Jan 2008
## 6            3-Aug 2003
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Commonly used logical operators in R</h2>
  </hgroup>
  
  <article data-timings="">
    <table><thead>
<tr>
<th>operator</th>
<th>definition</th>
</tr>
</thead><tbody>
<tr>
<td><code>&lt;</code></td>
<td>less than</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>less than or equal to</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>greater than</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>greater than or equal to</td>
</tr>
<tr>
<td><code>==</code></td>
<td>exactly equal to</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>not equal to</td>
</tr>
<tr>
<td>x &#124; y</td>
<td><code>x</code> OR <code>y</code></td>
</tr>
<tr>
<td><code>x &amp; y</code></td>
<td><code>x</code> AND <code>y</code></td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Commonly used logical operators in R</h2>
  </hgroup>
  
  <article data-timings="">
    <table><thead>
<tr>
<th>operator</th>
<th>definition</th>
</tr>
</thead><tbody>
<tr>
<td><code>is.na(x)</code></td>
<td>test if <code>x</code> is <code>NA</code></td>
</tr>
<tr>
<td><code>!is.na(x)</code></td>
<td>test if <code>x</code> is not <code>NA</code></td>
</tr>
<tr>
<td><code>x %in% y</code></td>
<td>test if <code>x</code> is in <code>y</code></td>
</tr>
<tr>
<td><code>!(x %in% y)</code></td>
<td>test if <code>x</code> is not in <code>y</code></td>
</tr>
<tr>
<td><code>!x</code></td>
<td>not <code>x</code></td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Real data is messy</h2>
  </hgroup>
  
  <article data-timings="">
    <p>Careful data scientists clean up their data first!</p>

<ul>
<li><p>You may need to do some text parsing to clarify your data</p>

<ul>
<li><code>Good Characters</code> can be <code>good</code></li>
<li><code>Bad Characters</code> can be <code>bad</code></li>
<li><code>Neutral Characters</code> can be <code>neutral</code></li>
</ul></li>
<li><p>New R package: <code>stringr</code></p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Install and load: <code>stringr</code></h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r">#Install
install.packages(&quot;stringr&quot;)
# load package
library(stringr)
</code></pre>

<ul>
<li>Package reference: Most R packages come with a vignette that describes in detail what each function does and how to use them, they&#39;re incredibly useful resources (in addition to other worked out examples on the web) <a href="https://cran.r-project.org/web/packages/stringr/vignettes/stringr.html">https://cran.r-project.org/web/packages/stringr/vignettes/stringr.html</a></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2><code>rename()</code> specific columns</h2>
  </hgroup>
  
  <article data-timings="">
    <p>Correct typos and rename to make variable names shorter and/or more informative</p>

<pre><code class="r"># Original names
names(data)
</code></pre>

<pre><code>##  [1] &quot;name&quot;             &quot;urlslug&quot;          &quot;ID&quot;              
##  [4] &quot;ALIGN&quot;            &quot;EYE&quot;              &quot;HAIR&quot;            
##  [7] &quot;SEX&quot;              &quot;GSM&quot;              &quot;ALIVE&quot;           
## [10] &quot;APPEARANCES&quot;      &quot;FIRST.APPEARANCE&quot; &quot;Year&quot;
</code></pre>

<pre><code class="r"># Rename `ALIGN` to `align`
data &lt;- data %&gt;%
  rename(align = ALIGN)

# Outside of the tidyverse, you can also do this:
oldnames &lt;- names(data)
names(data) &lt;- tolower(oldnames)
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Replace variables with <code>str_replace()</code> and add new variables with <code>mutate()</code></h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r">data &lt;- data %&gt;%
  mutate(align = str_replace(align, &quot;Good Characters&quot;, &quot;good&quot;)) %&gt;%
  mutate(align = str_replace(align, &quot;Bad Characters&quot;, &quot;bad&quot;)) %&gt;%
  mutate(align = str_replace(align, &quot;Neutral Characters&quot;, &quot;neutral&quot;))
</code></pre>

<ul>
<li>Note that we&#39;re overwriting existing data and columns, so be careful!

<ul>
<li>But remember, it&#39;s easy to revert if you make a mistake since we didn&#39;t touch the raw data, we can always reload it and start over</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Check before you move on</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r">data %&gt;%
  group_by(align) %&gt;%
  summarize(count = n())
</code></pre>

<pre><code>## # A tibble: 4 x 2
##   align   count
##   &lt;chr&gt;   &lt;int&gt;
## 1 &quot;&quot;       2812
## 2 bad      6720
## 3 good     4636
## 4 neutral  2208
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Check before you move on</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r"># You can also count using the `count()` function
data %&gt;%
  group_by(align) %&gt;%
  count()
</code></pre>

<pre><code>## # A tibble: 4 x 2
## # Groups:   align [4]
##   align       n
##   &lt;chr&gt;   &lt;int&gt;
## 1 &quot;&quot;       2812
## 2 bad      6720
## 3 good     4636
## 4 neutral  2208
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Summary statistics</h2>
  </hgroup>
  
  <article data-timings="">
    <p>We can use the same format for calculating other summary statistics</p>

<pre><code class="r">data %&gt;%
  group_by(sex) %&gt;%
  summarize(mean_appearances = mean(appearances, na.rm = TRUE), 
            median_appearances = median(appearances, na.rm = TRUE))
</code></pre>

<pre><code>## # A tibble: 5 x 3
##   sex                    mean_appearances median_appearances
##   &lt;fct&gt;                             &lt;dbl&gt;              &lt;dbl&gt;
## 1 &quot;&quot;                                 4.43                2  
## 2 Agender Characters                19.7                 9.5
## 3 Female Characters                 20.3                 4  
## 4 Genderfluid Characters           282.                282. 
## 5 Male Characters                   16.8                 3
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2><code>slice()</code> for certain row numbers</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r"># First five
data %&gt;%
  slice(1:5)
</code></pre>

<pre><code>##                                    name
## 1             Spider-Man (Peter Parker)
## 2       Captain America (Steven Rogers)
## 3 Wolverine (James \\&quot;Logan\\&quot; Howlett)
## 4   Iron Man (Anthony \\&quot;Tony\\&quot; Stark)
## 5                   Thor (Thor Odinson)
##                                    urlslug               id   align
## 1             \\/Spider-Man_(Peter_Parker)  Secret Identity    good
## 2       \\/Captain_America_(Steven_Rogers)  Public Identity    good
## 3 \\/Wolverine_(James_%22Logan%22_Howlett)  Public Identity neutral
## 4   \\/Iron_Man_(Anthony_%22Tony%22_Stark)  Public Identity    good
## 5                   \\/Thor_(Thor_Odinson) No Dual Identity    good
##          eye       hair             sex gsm             alive appearances
## 1 Hazel Eyes Brown Hair Male Characters     Living Characters        4043
## 2  Blue Eyes White Hair Male Characters     Living Characters        3360
## 3  Blue Eyes Black Hair Male Characters     Living Characters        3061
## 4  Blue Eyes Black Hair Male Characters     Living Characters        2961
## 5  Blue Eyes Blond Hair Male Characters     Living Characters        2258
##   first.appearance year
## 1           Aug-62 1962
## 2           Mar-41 1941
## 3           Oct-74 1974
## 4           Mar-63 1963
## 5           Nov-50 1950
</code></pre>

<pre><code class="r"># Last five
last_row &lt;- nrow(data)
data %&gt;%
  slice((last_row-4):last_row)
</code></pre>

<pre><code>##                              name                              urlslug
## 1              Ru&#39;ach (Earth-616)              \\/Ru%27ach_(Earth-616)
## 2 Thane (Thanos&#39; son) (Earth-616) \\/Thane_(Thanos%27_son)_(Earth-616)
## 3   Tinkerer (Skrull) (Earth-616)     \\/Tinkerer_(Skrull)_(Earth-616)
## 4  TK421 (Spiderling) (Earth-616)    \\/TK421_(Spiderling)_(Earth-616)
## 5           Yologarch (Earth-616)             \\/Yologarch_(Earth-616)
##                 id   align        eye    hair             sex gsm
## 1 No Dual Identity     bad Green Eyes No Hair Male Characters    
## 2 No Dual Identity    good  Blue Eyes    Bald Male Characters    
## 3  Secret Identity     bad Black Eyes    Bald Male Characters    
## 4  Secret Identity neutral                    Male Characters    
## 5                      bad                                       
##               alive appearances first.appearance year
## 1 Living Characters          NA                    NA
## 2 Living Characters          NA                    NA
## 3 Living Characters          NA                    NA
## 4 Living Characters          NA                    NA
## 5 Living Characters          NA                    NA
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2><code>select()</code></h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r"># Include only specific variables
data %&gt;%
  select(align, sex) %&gt;%
  table()
</code></pre>

<pre><code>##          sex
## align          Agender Characters Female Characters Genderfluid Characters
##            232                  2               684                      0
##   bad      386                 20               976                      0
##   good     122                 10              1537                      1
##   neutral  114                 13               640                      1
##          sex
## align     Male Characters
##                      1894
##   bad                5338
##   good               2966
##   neutral            1440
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2><code>select()</code></h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r"># Exclude variable (column)
# data %&gt;%
#   select(-eye)

# To keep only certain levels of a factor (and get rid of empty levels)
data %&gt;%
  select(sex, align) %&gt;%
  table()
</code></pre>

<pre><code>##                         align
## sex                            bad good neutral
##                           232  386  122     114
##   Agender Characters        2   20   10      13
##   Female Characters       684  976 1537     640
##   Genderfluid Characters    0    0    1       1
##   Male Characters        1894 5338 2966    1440
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2><code>select()</code></h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r">data %&gt;%
  select(sex, align) %&gt;%
  filter(sex != &quot;&quot;, align != &quot;&quot;) %&gt;%
  droplevels() %&gt;%
  table()
</code></pre>

<pre><code>##                         align
## sex                       bad good neutral
##   Agender Characters       20   10      13
##   Female Characters       976 1537     640
##   Genderfluid Characters    0    1       1
##   Male Characters        5338 2966    1440
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2><code>summarize()</code> in a new data frame with new calculated variables</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r">data.summ &lt;- data %&gt;%
  filter(sex != &quot;&quot;, align != &quot;&quot;) %&gt;%
  group_by(sex, year, align) %&gt;%
  summarize(n = n()) %&gt;%
  mutate(perc.sex = n / sum(n))
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2><code>summarize()</code> by decade</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r"># Write a function to round years to their decade
get_decade = function(year){ return(floor(year / 10) * 10) }

# Re-do data.summ 
data.summ &lt;- data %&gt;%
  filter(sex != &quot;&quot;, align != &quot;&quot;) %&gt;%
  mutate(decade = get_decade(year)) %&gt;%
  group_by(sex, decade, align) %&gt;%
  summarize(n = n())
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Select rows with <code>sample_n()</code> or <code>sample_frac()</code></h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r"># `sample_n()`: randomly sample 5 observations
data_n5 &lt;- data %&gt;%
  sample_n(5, replace = FALSE)
dim(data_n5)
</code></pre>

<pre><code>## [1]  5 12
</code></pre>

<pre><code class="r"># `sample_frac()`: randomly sample 20% of observations
data_perc20 &lt;-data %&gt;%
  sample_frac(0.2, replace = FALSE)
dim(data_perc20)
</code></pre>

<pre><code>## [1] 3275   12
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Simple plotting</h2>
  </hgroup>
  
  <article data-timings="">
    <pre><code class="r"># load ggplot2
library(ggplot2)

decade.plot &lt;- data %&gt;%
  mutate(decade=get_decade(year)) %&gt;%
  filter(sex != &quot;&quot;, align != &quot;&quot;) %&gt;%
  ggplot(aes(x=decade, fill=sex)) + geom_bar()
</code></pre>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <article data-timings="">
    <pre><code class="r">decade.plot
</code></pre>

<p><img src="assets/fig/decade-plot-1.png" alt="plot of chunk decade-plot"></p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>More <code>dplyr</code> resources</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li><p>Visit <a href="https://cran.r-project.org/web/packages/dplyr/vignettes/introduction.html">https://cran.r-project.org/web/packages/dplyr/vignettes/introduction.html</a> for the package vignette.</p></li>
<li><p>Refer to the <code>dplyr</code> <a href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">cheatsheet</a>.</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Basic R syntax</h2>
  </hgroup>
  
  <article data-timings="">
    <p>For when not working with <code>dplyr</code></p>

<ul>
<li>Refer to a variable in a dataset as <code>data$name</code></li>
<li>Access any element in a dataframe using square brackets</li>
</ul>

<pre><code class="r">data[1,5] # row 1, column 5
</code></pre>

<pre><code>## [1] Hazel Eyes
## 25 Levels:  Amber Eyes Black Eyeballs Black Eyes Blue Eyes ... Yellow Eyes
</code></pre>

<ul>
<li>For all observations in row 1: <code>data[1, ]</code></li>
<li>For all observations in column 5: <code>data[, 5]</code></li>
</ul>

<p>Other things to learn: how to make a dataframe, how to add rows/columns</p>

  </article>
  <!-- Presenter Notes -->
  
</slide>

<slide class="class" id="id" style="background:;">
  
  <hgroup>
    <h2>Want more R?</h2>
  </hgroup>
  
  <article data-timings="">
    <ul>
<li><p>Resources for learning R:</p>

<ul>
<li><a href="https://www.coursera.org/">Coursera</a></li>
<li><a href="https://www.datacamp.com/">DataCamp</a></li>
<li>Many many online demos, resources, examples, as well as books</li>
</ul></li>
<li><p>Debugging R errors:</p>

<ul>
<li>Read the error!</li>
<li><a href="http://stackoverflow.com/">StackOverflow</a></li>
</ul></li>
<li><p>Keeping up with what&#39;s new in R land:</p>

<ul>
<li><a href="http://www.r-bloggers.com/">R-bloggers</a></li>
<li>Twitter: #rstats</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
  
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='Welcome!'>
         1
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='R and RStudio'>
         2
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Anatomy of RStudio'>
         3
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='What version am I using?'>
         4
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='R packages'>
         5
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='R Script'>
         6
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='R Markdown'>
         7
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Where are you?'>
         8
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Loading data'>
         9
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Viewing your data'>
         10
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Viewing your data'>
         11
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Tidy data'>
         12
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Data manipulation'>
         13
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Verbs of <code>dplyr</code>'>
         14
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='<code>dplyr</code> rules'>
         15
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='Filter rows with <code>filter()</code>'>
         16
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Filter rows with <code>filter()</code>'>
         17
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='Commonly used logical operators in R'>
         18
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Commonly used logical operators in R'>
         19
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='Real data is messy'>
         20
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Install and load: <code>stringr</code>'>
         21
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='<code>rename()</code> specific columns'>
         22
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='Replace variables with <code>str_replace()</code> and add new variables with <code>mutate()</code>'>
         23
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Check before you move on'>
         24
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='Check before you move on'>
         25
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='Summary statistics'>
         26
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='<code>slice()</code> for certain row numbers'>
         27
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='<code>select()</code>'>
         28
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='<code>select()</code>'>
         29
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='<code>select()</code>'>
         30
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=31 title='<code>summarize()</code> in a new data frame with new calculated variables'>
         31
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=32 title='<code>summarize()</code> by decade'>
         32
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=33 title='Select rows with <code>sample_n()</code> or <code>sample_frac()</code>'>
         33
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=34 title='Simple plotting'>
         34
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=35 title='NA'>
         35
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=36 title='More <code>dplyr</code> resources'>
         36
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=37 title='Basic R syntax'>
         37
      </a>
    </li>
    
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=38 title='Want more R?'>
         38
      </a>
    </li>
    
    </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>